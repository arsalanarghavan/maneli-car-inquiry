/**
 * Maneli Dashboard - Complete Layout Fix
 * فیکس کامل و جامع برای تمام مشکلات layout داشبورد
 * 
 * نسخه: 3.0 - Final Fix
 * تاریخ: 1403/07/28
 */

/* ===========================================
   Z-INDEX LAYERS (مهم‌ترین بخش!)
   =========================================== */

:root {
    --z-sidebar: 1050;
    --z-header: 1040;
    --z-dropdown: 1060;
    --z-modal: 1070;
    --z-tooltip: 1080;
    --z-loader: 9999;
}

/* ===========================================
   RESET & BASE STYLES
   =========================================== */

* {
    box-sizing: border-box !important;
}

html {
    scroll-behavior: smooth !important;
}

body {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
    overflow-x: hidden !important;
}

/* Prevent body scroll when sidebar is open on mobile */
@media (max-width: 992px) {
    html[data-toggled="open"] body {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
    }
}

/* ===========================================
   HEADER - باید زیر Sidebar باشه
   =========================================== */

.app-header {
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    left: 0 !important;
    z-index: var(--z-header) !important; /* 1040 */
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0.75rem 1.5rem !important;
    background-color: #fff !important;
    border-bottom: 1px solid rgba(227, 227, 227, 0.7) !important;
    direction: rtl !important;
    height: 4rem !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;
    width: 100% !important;
}

.main-header-container {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    width: 100% !important;
    direction: rtl !important;
}

/* Header Left Content */
.header-content-left {
    display: flex !important;
    align-items: center !important;
    gap: 1rem !important;
    order: 1 !important;
    direction: rtl !important;
}

/* Header Right Content */
.header-content-right {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    order: 2 !important;
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    direction: rtl !important;
}

/* Header Logo */
.horizontal-logo {
    display: flex !important;
    align-items: center !important;
    direction: ltr !important;
}

.header-logo {
    display: flex !important;
    align-items: center !important;
}

.header-logo img {
    height: 2rem !important;
    width: auto !important;
}

/* Sidebar Toggle Button */
.sidemenu-toggle {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 2.5rem !important;
    height: 2.5rem !important;
    border-radius: 0.375rem !important;
    transition: all 0.3s !important;
    background: transparent !important;
    border: none !important;
    cursor: pointer !important;
    position: relative !important;
    overflow: hidden !important;
}

.sidemenu-toggle:hover {
    background-color: rgba(0, 0, 0, 0.05) !important;
}

.sidemenu-toggle:active {
    transform: scale(0.95) !important;
}

/* Animated Toggle Icon */
.sidemenu-toggle.animated-arrow span {
    display: block !important;
    width: 20px !important;
    height: 2px !important;
    background-color: currentColor !important;
    position: relative !important;
    transition: all 0.3s ease !important;
}

.sidemenu-toggle.animated-arrow span::before,
.sidemenu-toggle.animated-arrow span::after {
    content: "" !important;
    position: absolute !important;
    width: 100% !important;
    height: 100% !important;
    background-color: currentColor !important;
    transition: all 0.3s ease !important;
}

.sidemenu-toggle.animated-arrow span::before {
    top: -6px !important;
}

.sidemenu-toggle.animated-arrow span::after {
    top: 6px !important;
}

/* Toggle Icon Animation when Sidebar is Open */
html[data-toggled="open"] .sidemenu-toggle.animated-arrow span {
    background-color: transparent !important;
}

html[data-toggled="open"] .sidemenu-toggle.animated-arrow span::before {
    top: 0 !important;
    transform: rotate(45deg) !important;
}

html[data-toggled="open"] .sidemenu-toggle.animated-arrow span::after {
    top: 0 !important;
    transform: rotate(-45deg) !important;
}

/* Header Search */
.header-search {
    position: relative !important;
    direction: rtl !important;
}

.header-search-bar {
    padding-right: 2.5rem !important;
    padding-left: 1rem !important;
    text-align: right !important;
    direction: rtl !important;
    border: 1px solid rgba(0, 0, 0, 0.1) !important;
    border-radius: 0.375rem !important;
    min-width: 200px !important;
}

.header-search-icon {
    position: absolute !important;
    right: 0.75rem !important;
    left: auto !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
}

/* Header Icons and Links */
.header-link {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 2.5rem !important;
    height: 2.5rem !important;
    border-radius: 0.375rem !important;
    transition: all 0.3s !important;
    position: relative !important;
    background: transparent !important;
    border: none !important;
    cursor: pointer !important;
}

.header-link:hover {
    background-color: rgba(0, 0, 0, 0.05) !important;
}

.header-link-icon {
    width: 1.25rem !important;
    height: 1.25rem !important;
}

/* Notification Badge */
.header-icon-pulse {
    position: absolute !important;
    top: 0.25rem !important;
    right: 0.25rem !important;
    left: auto !important;
    width: 0.5rem !important;
    height: 0.5rem !important;
}

/* Dropdown Menus in Header */
.header-element .dropdown-menu {
    right: 0 !important;
    left: auto !important;
    text-align: right !important;
    direction: rtl !important;
    z-index: var(--z-dropdown) !important; /* 1060 */
    margin-top: 0.5rem !important;
    transform: none !important;
    position: absolute !important;
}

.header-element .dropdown-menu.show {
    display: block !important;
}

/* User Avatar in Header */
.header-element img {
    border-radius: 50% !important;
}

/* Fix Header Logo Display */
.horizontal-logo .header-logo img:not(.desktop-logo) {
    display: none !important;
}

.horizontal-logo .header-logo img.desktop-logo {
    display: block !important;
}

/* Dark Theme Logo Display */
html[data-theme-mode="dark"] .horizontal-logo .header-logo img.desktop-logo {
    display: none !important;
}

html[data-theme-mode="dark"] .horizontal-logo .header-logo img.desktop-dark {
    display: block !important;
}

/* Header Elements Alignment */
.header-element {
    display: flex !important;
    align-items: center !important;
}

.header-element.dropdown {
    position: relative !important;
}

/* ===========================================
   SIDEBAR - باید بالاترین z-index رو داشته باشه
   =========================================== */

.app-sidebar {
    position: fixed !important;
    top: 0 !important;
    right: 0 !important;
    left: auto !important;
    height: 100vh !important;
    width: 250px !important;
    background: #1e293b !important;
    z-index: var(--z-sidebar) !important; /* 1050 - بالاتر از header */
    transition: all 0.3s ease !important;
    direction: rtl !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1) !important;
}

/* Sidebar Header */
.main-sidebar-header {
    padding: 1rem !important;
    text-align: center !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    direction: ltr !important;
    min-height: 4rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    position: sticky !important;
    top: 0 !important;
    background: #1e293b !important;
    z-index: 10 !important;
}

/* Sidebar Logo Display */
.main-sidebar-header .header-logo img:not(.desktop-logo) {
    display: none !important;
}

.main-sidebar-header .header-logo img.desktop-logo {
    display: block !important;
    max-height: 2.5rem !important;
}

/* Dark Theme Sidebar Logo */
html[data-theme-mode="dark"] .main-sidebar-header .header-logo img.desktop-logo {
    display: none !important;
}

html[data-theme-mode="dark"] .main-sidebar-header .header-logo img.desktop-dark {
    display: block !important;
    max-height: 2.5rem !important;
}

/* Sidebar Menu */
.main-sidebar {
    height: calc(100vh - 4rem) !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    direction: rtl !important;
    padding-bottom: 2rem !important;
}

/* Custom Scrollbar for Sidebar */
.main-sidebar::-webkit-scrollbar {
    width: 6px !important;
}

.main-sidebar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05) !important;
}

.main-sidebar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2) !important;
    border-radius: 3px !important;
}

.main-sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3) !important;
}

.main-menu {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* Menu Items */
.side-menu__item {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    padding: 0.75rem 1.5rem !important;
    color: rgba(255, 255, 255, 0.8) !important;
    transition: all 0.3s !important;
    text-decoration: none !important;
    direction: rtl !important;
    border-right: 3px solid transparent !important;
    white-space: nowrap !important;
}

.side-menu__item:hover {
    background-color: rgba(255, 255, 255, 0.08) !important;
    color: #fff !important;
    border-right-color: rgba(255, 255, 255, 0.3) !important;
    text-decoration: none !important;
}

.side-menu__item.active {
    background-color: rgba(99, 102, 241, 0.15) !important;
    color: #6366f1 !important;
    border-right-color: #6366f1 !important;
}

/* Fix Menu Item Focus State */
.side-menu__item:focus,
.side-menu__item:focus-visible {
    outline: none !important;
    box-shadow: none !important;
}

/* Sub-menu Items */
.slide.has-sub .side-menu__item {
    position: relative !important;
}

.slide.has-sub .side-menu__item::after {
    content: "" !important;
    position: absolute !important;
    left: 1rem !important;
    top: 50% !important;
    transform: translateY(-50%) rotate(90deg) !important;
    border-style: solid !important;
    border-width: 5px 4px 0 4px !important;
    border-color: rgba(255, 255, 255, 0.5) transparent transparent transparent !important;
    transition: transform 0.3s !important;
}

.slide.has-sub.open .side-menu__item::after {
    transform: translateY(-50%) rotate(0deg) !important;
}

/* Menu Icons */
.side-menu__icon {
    width: 1.25rem !important;
    height: 1.25rem !important;
    flex-shrink: 0 !important;
    direction: ltr !important;
}

/* Menu Labels */
.side-menu__label {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    font-size: 0.875rem !important;
    direction: rtl !important;
    flex: 1 !important;
}

/* Category Names */
.slide__category {
    padding: 1rem 1.5rem 0.5rem !important;
}

.category-name {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    color: rgba(255, 255, 255, 0.5) !important;
    letter-spacing: 0.05em !important;
    direction: rtl !important;
}

/* ===========================================
   MAIN CONTENT - باید زیر header و sidebar باشه
   =========================================== */

.page {
    min-height: 100vh !important;
    display: flex !important;
    flex-direction: column !important;
    direction: rtl !important;
}

.main-content {
    margin-right: 250px !important;
    margin-left: 0 !important;
    margin-top: 4rem !important;
    min-height: calc(100vh - 4rem) !important;
    background-color: #f8f9fa !important;
    transition: all 0.3s ease !important;
    direction: rtl !important;
    padding: 1.5rem !important;
    position: relative !important;
    z-index: 1 !important; /* پایین‌ترین z-index */
}

/* Page Header */
.page-header-breadcrumb {
    padding: 1rem 0 !important;
    direction: rtl !important;
    margin-bottom: 1.5rem !important;
}

.page-title {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    font-size: 1.75rem !important;
    font-weight: 700 !important;
    color: #1e293b !important;
    margin: 0 !important;
    direction: rtl !important;
}

/* Breadcrumb */
.breadcrumb {
    margin: 0 !important;
    padding: 0 !important;
    background: transparent !important;
    direction: rtl !important;
    display: flex !important;
    flex-wrap: wrap !important;
}

.breadcrumb-item {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
    color: #64748b !important;
}

.breadcrumb-item.active {
    color: #1e293b !important;
}

.breadcrumb-item + .breadcrumb-item::before {
    float: right !important;
    padding-left: 0.5rem !important;
    padding-right: 0 !important;
    content: "/" !important;
    color: #94a3b8 !important;
}

.breadcrumb-item a {
    color: #6366f1 !important;
    text-decoration: none !important;
}

.breadcrumb-item a:hover {
    color: #4f46e5 !important;
    text-decoration: underline !important;
}

/* ===========================================
   CARDS
   =========================================== */

.card {
    border-radius: 0.5rem !important;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06) !important;
    direction: rtl !important;
    background: #fff !important;
    border: 1px solid rgba(0, 0, 0, 0.05) !important;
    margin-bottom: 1.5rem !important;
}

.card-header {
    background-color: transparent !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;
    padding: 1rem 1.5rem !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
}

.card-title {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    font-size: 1.125rem !important;
    font-weight: 600 !important;
    margin: 0 !important;
    direction: rtl !important;
    color: #1e293b !important;
}

.card-body {
    padding: 1.5rem !important;
    direction: rtl !important;
}

.card-footer {
    padding: 1rem 1.5rem !important;
    background-color: rgba(0, 0, 0, 0.02) !important;
    border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
    direction: rtl !important;
}

/* ===========================================
   RESPONSIVE - Mobile & Tablet
   =========================================== */

/* Sidebar Toggle States */
html[data-toggled="close"] .app-sidebar {
    transform: translateX(100%) !important;
}

html[data-toggled="open"] .app-sidebar {
    transform: translateX(0) !important;
}

html[data-toggled="close"] .main-content {
    margin-right: 0 !important;
}

/* Mobile Overlay */
.responsive-overlay {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: rgba(0, 0, 0, 0.5) !important;
    z-index: 1045 !important;
    display: none !important;
    transition: opacity 0.3s ease !important;
    opacity: 0 !important;
}

html[data-toggled="open"] .responsive-overlay {
    display: block !important;
    opacity: 1 !important;
}

.responsive-overlay:hover {
    cursor: pointer !important;
}

/* Tablet View (768px - 992px) */
@media (max-width: 992px) {
    .app-sidebar {
        transform: translateX(100%) !important;
        box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2) !important;
    }
    
    html[data-toggled="open"] .app-sidebar {
        transform: translateX(0) !important;
    }
    
    .main-content {
        margin-right: 0 !important;
        margin-left: 0 !important;
    }
    
    .header-search {
        display: none !important;
    }
    
    /* Header Adjustments for Tablet */
    .app-header {
        padding: 0.5rem 1rem !important;
    }
    
    .header-content-left {
        gap: 0.5rem !important;
    }
    
    .header-content-right {
        gap: 0.25rem !important;
    }
    
    /* Sidebar toggle button more prominent on tablet */
    .sidemenu-toggle {
        width: 2.25rem !important;
        height: 2.25rem !important;
    }
}

/* Mobile View (< 768px) */
@media (max-width: 768px) {
    .app-header {
        padding: 0.5rem 0.75rem !important;
        height: 3.5rem !important;
    }
    
    .app-sidebar {
        width: 280px !important;
        transform: translateX(100%) !important;
        box-shadow: -5px 0 20px rgba(0, 0, 0, 0.3) !important;
    }
    
    html[data-toggled="open"] .app-sidebar {
        transform: translateX(0) !important;
    }
    
    .main-content {
        margin-right: 0 !important;
        margin-left: 0 !important;
        margin-top: 3.5rem !important;
        padding: 1rem 0.75rem !important;
        min-height: calc(100vh - 3.5rem) !important;
    }
    
    .page-title {
        font-size: 1.25rem !important;
    }
    
    .header-content-left .d-md-block {
        display: none !important;
    }
    
    .d-sm-block {
        display: none !important;
    }
    
    /* Mobile Header Logo */
    .horizontal-logo .header-logo {
        max-width: 100px !important;
    }
    
    .horizontal-logo .header-logo img {
        max-height: 1.75rem !important;
    }
    
    /* Mobile Sidebar Header */
    .main-sidebar-header {
        min-height: 3.5rem !important;
        padding: 0.75rem !important;
    }
    
    .main-sidebar-header .header-logo img {
        max-height: 2rem !important;
    }
    
    /* Mobile Menu Items */
    .side-menu__item {
        padding: 0.625rem 1rem !important;
        font-size: 0.875rem !important;
    }
    
    .side-menu__icon {
        width: 1.125rem !important;
        height: 1.125rem !important;
    }
    
    /* Category Names on Mobile */
    .category-name {
        font-size: 0.688rem !important;
        padding: 0.75rem 1rem 0.375rem !important;
    }
    
    /* Header Elements on Mobile */
    .header-link {
        width: 2.25rem !important;
        height: 2.25rem !important;
    }
    
    .header-link-icon {
        width: 1.125rem !important;
        height: 1.125rem !important;
    }
    
    /* Mobile Dropdown Menus */
    .header-element .dropdown-menu {
        min-width: 250px !important;
        max-width: calc(100vw - 2rem) !important;
        right: 0.5rem !important;
    }
}

/* ===========================================
   FORM ELEMENTS
   =========================================== */

.form-control,
.form-select {
    text-align: right !important;
    direction: rtl !important;
    padding-right: 0.75rem !important;
    padding-left: 0.75rem !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    border: 1px solid #cbd5e1 !important;
    border-radius: 0.375rem !important;
}

.form-control:focus,
.form-select:focus {
    border-color: #6366f1 !important;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1) !important;
}

.form-label {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
    text-align: right !important;
    margin-bottom: 0.5rem !important;
    font-weight: 500 !important;
    color: #334155 !important;
}

.input-group {
    direction: rtl !important;
}

/* ===========================================
   TABLES
   =========================================== */

.table-responsive {
    direction: rtl !important;
}

.table {
    direction: rtl !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
}

.table th,
.table td {
    text-align: right !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    padding: 0.75rem !important;
    vertical-align: middle !important;
}

.table thead th {
    background-color: #f8fafc !important;
    font-weight: 600 !important;
    color: #1e293b !important;
    border-bottom: 2px solid #e2e8f0 !important;
}

.table tbody tr:hover {
    background-color: #f8fafc !important;
}

/* ===========================================
   BUTTONS
   =========================================== */

.btn {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
    padding: 0.5rem 1rem !important;
    border-radius: 0.375rem !important;
    font-weight: 500 !important;
    transition: all 0.3s !important;
}

.btn i {
    margin-left: 0 !important;
    margin-right: 0.25rem !important;
}

.btn-primary {
    background-color: #6366f1 !important;
    border-color: #6366f1 !important;
    color: #fff !important;
}

.btn-primary:hover {
    background-color: #4f46e5 !important;
    border-color: #4f46e5 !important;
}

/* ===========================================
   MODALS & DROPDOWNS
   =========================================== */

.modal {
    z-index: var(--z-modal) !important; /* 1070 */
    direction: rtl !important;
}

.modal-dialog {
    direction: rtl !important;
}

.modal-header,
.modal-body,
.modal-footer {
    text-align: right !important;
    direction: rtl !important;
}

.modal-title {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
}

.dropdown-menu {
    text-align: right !important;
    direction: rtl !important;
    z-index: var(--z-dropdown) !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
}

.dropdown-item {
    text-align: right !important;
    direction: rtl !important;
}

/* ===========================================
   OFFCANVAS (Switcher)
   =========================================== */

.offcanvas {
    direction: rtl !important;
    z-index: var(--z-modal) !important;
}

.offcanvas-header,
.offcanvas-body {
    text-align: right !important;
    direction: rtl !important;
}

.offcanvas-title {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
}

/* ===========================================
   ALERTS & BADGES
   =========================================== */

.alert {
    text-align: right !important;
    direction: rtl !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    border-radius: 0.375rem !important;
}

.badge {
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
}

/* ===========================================
   FOOTER
   =========================================== */

.footer {
    direction: rtl !important;
    text-align: center !important;
    font-family: IRANSans, Tahoma, Arial, sans-serif !important;
    padding: 1.5rem !important;
    border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
}

/* ===========================================
   UTILITIES
   =========================================== */

/* Text Alignment */
.text-start {
    text-align: right !important;
}

.text-end {
    text-align: left !important;
}

/* Margins */
.ms-auto {
    margin-right: auto !important;
    margin-left: 0 !important;
}

.me-auto {
    margin-left: auto !important;
    margin-right: 0 !important;
}

/* Direction Override for Icons */
svg,
i[class*="ri-"],
i[class*="ti-"],
i[class*="bi-"],
i[class*="fe-"] {
    direction: ltr !important;
}

/* ===========================================
   LOADER
   =========================================== */

#loader {
    z-index: var(--z-loader) !important; /* 9999 - بالاترین */
}

/* ===========================================
   PERFORMANCE OPTIMIZATIONS
   =========================================== */

.app-sidebar,
.app-header,
.main-content {
    will-change: transform !important;
}

/* Hardware Acceleration */
.app-sidebar,
.app-header,
.responsive-overlay,
.dropdown-menu {
    backface-visibility: hidden !important;
    -webkit-backface-visibility: hidden !important;
    transform: translateZ(0) !important;
    -webkit-transform: translateZ(0) !important;
}

/* Smooth Transitions */
.app-sidebar {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.main-content {
    transition: margin-right 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* ===========================================
   ACCESSIBILITY IMPROVEMENTS
   =========================================== */

/* Focus Visible States */
.header-link:focus-visible,
.side-menu__item:focus-visible,
.sidemenu-toggle:focus-visible {
    outline: 2px solid #6366f1 !important;
    outline-offset: 2px !important;
}

/* Skip Navigation Link */
.skip-navigation {
    position: absolute !important;
    top: -9999px !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    background: #6366f1 !important;
    color: white !important;
    padding: 0.5rem 1rem !important;
    border-radius: 0.25rem !important;
    z-index: 99999 !important;
}

.skip-navigation:focus {
    top: 1rem !important;
}

/* ===========================================
   FIX COMMON CONFLICTS
   =========================================== */

/* Prevent WordPress Admin Bar Conflicts */
html[data-nav-layout] {
    margin-top: 0 !important;
}

.admin-bar .app-header {
    top: 32px !important;
}

@media screen and (max-width: 782px) {
    .admin-bar .app-header {
        top: 46px !important;
    }
}

/* Prevent WooCommerce Style Conflicts */
.app-sidebar .woocommerce,
.app-header .woocommerce {
    all: unset !important;
}

/* ===========================================
   PRINT STYLES
   =========================================== */

@media print {
    .app-header,
    .app-sidebar,
    .footer,
    .responsive-overlay {
        display: none !important;
    }
    
    .main-content {
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .page {
        width: 100% !important;
    }
}

/* ===========================================
   DARK MODE SPECIFIC FIXES
   =========================================== */

html[data-theme-mode="dark"] .app-header {
    background-color: #1e293b !important;
    border-bottom-color: rgba(255, 255, 255, 0.1) !important;
}

html[data-theme-mode="dark"] .header-link:hover {
    background-color: rgba(255, 255, 255, 0.08) !important;
}

html[data-theme-mode="dark"] .dropdown-menu {
    background-color: #1e293b !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
}

html[data-theme-mode="dark"] .main-content {
    background-color: #0f172a !important;
}

/* ===========================================
   HIGH CONTRAST MODE
   =========================================== */

@media (prefers-contrast: high) {
    .app-header {
        border-bottom-width: 2px !important;
    }
    
    .side-menu__item {
        border-right-width: 4px !important;
    }
    
    .header-link:hover,
    .side-menu__item:hover {
        outline: 2px solid currentColor !important;
    }
}

/* ===========================================
   REDUCED MOTION
   =========================================== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    .app-sidebar,
    .main-content,
    .responsive-overlay {
        transition: none !important;
    }
}

