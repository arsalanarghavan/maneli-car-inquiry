# راهنمای ایجاد و مدیریت کارشناسان

## ⚠️ خطای "هیچ کارشناسی برای تخصیص یافت نشد"

اگر این پیام خطا را دریافت کردید، به این معناست که هیچ کاربری با نقش **"Maneli Expert"** در سیستم وجود ندارد.

---

## ✅ راه‌حل: ایجاد کاربر کارشناس

### روش 1: از طریق داشبورد WordPress

#### گام 1: افزودن کاربر جدید
1. به **داشبورد WordPress** بروید
2. از منوی سمت راست، روی **کاربران** کلیک کنید
3. روی **افزودن کاربر جدید** کلیک کنید

#### گام 2: پر کردن فرم کاربر
اطلاعات زیر را وارد کنید:

- **نام کاربری**: یک نام منحصر به فرد (مثل `expert1`, `karshenas_ali`)
- **ایمیل**: یک آدرس ایمیل معتبر
- **نام**: نام کارشناس
- **نام خانوادگی**: نام خانوادگی کارشناس
- **رمز عبور**: یک رمز قوی انتخاب کنید
- ⭐ **نقش (Role)**: حتماً **"Maneli Expert"** یا **"کارشناس مانلی"** را انتخاب کنید

#### گام 3: ذخیره شماره موبایل
1. روی دکمه **افزودن کاربر جدید** کلیک کنید
2. بعد از ایجاد کاربر، روی نام کاربر کلیک کنید تا وارد صفحه ویرایش پروفایل شوید
3. به بخش **اطلاعات تماس** بروید
4. **شماره موبایل** کارشناس را وارد کنید (برای ارسال پیامک)
5. روی **به‌روزرسانی پروفایل** کلیک کنید

---

### روش 2: از طریق پنل مدیریت کاربران پلاگین

اگر پلاگین شما دارای پنل مدیریت کاربران است:

1. به **داشبورد > استعلام مانلی > مدیریت کاربران** بروید
2. روی **افزودن کاربر جدید** کلیک کنید
3. فرم را پر کنید و نقش **"Maneli Expert"** را انتخاب کنید
4. ذخیره کنید

---

### روش 3: تبدیل کاربر موجود به کارشناس

اگر یک کاربر در حال حاضر وجود دارد و می‌خواهید او را به کارشناس تبدیل کنید:

1. به **کاربران > همه کاربران** بروید
2. روی **ویرایش** زیر نام کاربر مورد نظر کلیک کنید
3. در بخش **نقش (Role)**، گزینه **"Maneli Expert"** را انتخاب کنید
4. روی **به‌روزرسانی پروفایل** کلیک کنید

---

## 🔍 بررسی وجود کارشناسان

برای اطمینان از اینکه کارشناسان به درستی تعریف شده‌اند:

### از طریق داشبورد WordPress:
1. به **کاربران > همه کاربران** بروید
2. در لیست کاربران، در ستون **نقش** دنبال **"Maneli Expert"** یا **"کارشناس مانلی"** بگردید
3. اگر هیچ کاربری با این نقش نبود، باید یک کارشناس اضافه کنید

### از طریق پنل تنظیمات پلاگین:
1. به **داشبورد > استعلام مانلی > تنظیمات** بروید
2. به تب **"کارشناسان"** بروید
3. لیست کارشناسان موجود در سیستم نمایش داده می‌شود

---

## 💡 نکات مهم

### 1. حداقل یک کارشناس لازم است
برای استفاده از قابلیت **تخصیص خودکار درخواست‌ها**، حداقل باید یک کاربر با نقش "Maneli Expert" در سیستم وجود داشته باشد.

### 2. شماره موبایل الزامی است
اگر می‌خواهید کارشناس از طریق پیامک مطلع شود، حتماً شماره موبایل او را در پروفایلش ثبت کنید.

### 3. نقش‌های مختلف
- **Administrator**: دسترسی کامل به WordPress و پلاگین
- **Maneli Manager** (`maneli_admin`): مدیر سیستم استعلام مانلی
- **Maneli Expert** (`maneli_expert`): کارشناس که درخواست‌ها به او تخصیص داده می‌شود
- **Customer**: مشتری که فقط می‌تواند درخواست ثبت کند و درخواست‌های خود را ببیند

### 4. تخصیص خودکار (Round-robin)
زمانی که چندین کارشناس وجود داشته باشد، سیستم به صورت خودکار درخواست‌ها را به ترتیب بین آن‌ها توزیع می‌کند.

---

## 🚀 مثال: ایجاد کارشناس اول

```
نام کاربری: ali_karshenas
ایمیل: ali@manelikhodro.com
نام: علی
نام خانوادگی: کارشناسی
رمز عبور: ********** (یک رمز قوی)
نقش: Maneli Expert
شماره موبایل: 09123456789
```

بعد از ایجاد این کاربر، می‌توانید درخواست‌ها را به او تخصیص دهید!

---

## ❓ سوالات متداول

**س: چند کارشناس می‌توانم داشته باشم؟**  
ج: نامحدود! می‌توانید هر تعداد کارشناس که نیاز دارید اضافه کنید.

**س: آیا می‌توانم یک کارشناس خاص را برای یک درخواست انتخاب کنم؟**  
ج: بله! در هنگام تخصیص، می‌توانید یک کارشناس مشخص را انتخاب کنید یا گزینه "تخصیص خودکار" را بزنید.

**س: اگر یک کارشناس را حذف کنم چه اتفاقی می‌افتد؟**  
ج: درخواست‌های قبلاً تخصیص داده شده به او همچنان نمایش داده می‌شوند، اما دیگر نمی‌توان درخواست جدیدی به او تخصیص داد.

**س: آیا کارشناس می‌تواند خودش درخواست ثبت کند؟**  
ج: بله! کارشناسان هم می‌توانند در صورت نیاز درخواست ثبت کنند.

---

## 📞 پشتیبانی

اگر بعد از انجام این مراحل همچنان مشکل دارید، لطفاً موارد زیر را بررسی کنید:

1. ✅ آیا پلاگین فعال است؟
2. ✅ آیا نقش "Maneli Expert" در لیست نقش‌ها وجود دارد؟
3. ✅ آیا کاربر دقیقاً با نقش "Maneli Expert" ثبت شده است؟
4. ✅ آیا نسخه WordPress و WooCommerce شما به‌روز است؟

اگر همچنان مشکل برطرف نشد، لاگ‌های خطای PHP را بررسی کنید.

